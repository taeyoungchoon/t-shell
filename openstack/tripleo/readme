http://fullyautolinux.blogspot.com/2018/01/openstack-tripleo-all-in-one-with.html
https://blueprints.launchpad.net/tripleo/+spec/all-in-one

openstack tripleo deploy --standalone --config all_in_one.yaml

---

2021.6.29.

---

Vagrant.configure("2") do |config|

  config.vm.synced_folder ".", "/vagrant", disabled: true
  # config.vm.provision "shell", path: "bootstrap.sh"
  config.vm.provider "virtualbox" do |vb|
    vb.cpus = 2
    vb.memory = 4096
    # vb.memory = 1024
  end
  
  config.vm.define "meg" do |meg|
    meg.vm.box = "bento/centos-7"
    meg.vm.hostname = "meg"
    meg.vm.box_version = "202105.25.0"
    # meg.vm.box_version = "201912.14.0"
    meg.vm.network "private_network", ip: "172.20.99.100"
  end
end

vagrant up meg
vagrant up jo ;; with 172.20.99.110

vagrant destroy -f meg
---

yum install -y epel-release centos-release-openstack-queens
yum install -y openvswitch libibverbs
systemctl start openvswitch
systemctl enable openvswitch

systemctl status openvswitch
ovs-vsctl list-br
ping -c 3 8.8.8.8
---

? cat /etc/sysconfig/network-scripts/ifcfg-eth1
DEVICE="eth1"
ONBOOT="yes"
TYPE="OVSPort"
DEVICETYPE="ovs"
OVS_BRIDGE="br-eth1"

? cat /etc/sysconfig/network-scripts/ifcfg-br-eth1
DEVICE="br-eth1"
TYPE="OVSBridge"
SLAVE="yes"
BOOTPROTO="static"
IPADDR="172.20.99.100"
NETMASK="255.255.255.0"
#GATEWAY="10.0.2.1"
IPV6INIT="no"
NM_CONTROLLED="yes"
ONBOOT="yes"
DEFROUTE="yes"
PEERDNS="yes"
PEERROUTES="yes"
IPV4_FAILURE_FATAL="yes"

ovs-vsctl list-br
ovs-vsctl show
ping -c 3 8.8.8.8
ping -c 3 172.20.99.110

---

bootstrap.sh

yum install -y bash-completion psmisc
